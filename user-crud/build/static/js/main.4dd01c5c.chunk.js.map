{"version":3,"sources":["tables/UserTable.js","forms/AddUserForm.js","forms/EditUserForm.js","App.js","index.js"],"names":["UserTable","props","users","length","map","user","key","_id","firstName","lastName","onClick","editRow","className","DeleteUser","colSpan","AddUserForm","initialFormState","firstname","lastname","useState","setUser","onSubmit","event","preventDefault","AddUser","alert","error","console","log","type","value","onChange","target","EditUserForm","useEffect","currentUser","updateUser","name","setEditing","App","setUsers","editing","setCurrentUser","fetch","method","then","response","json","data","id","updatedUser","headers","body","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4dd01c5c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction UserTable(props) {\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>First Name</th>\r\n          <th>Last Name</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {props.users.length > 0 ? (\r\n          props.users.map((user) => (\r\n            <tr key={user._id}>\r\n              <td>{user.firstName}</td>\r\n              <td>{user.lastName}</td>\r\n              <td>\r\n                <button\r\n                  onClick={() => {\r\n                    props.editRow(user)\r\n                  }}\r\n                  className=\"button muted-button\"\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button onClick={() => props.DeleteUser(user._id)} className=\"button muted-button\">Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))\r\n        ) : (\r\n            <tr>\r\n              <td colSpan={3}>No users</td>\r\n            </tr>\r\n          )}\r\n      </tbody>\r\n    </table>\r\n  )\r\n\r\n}\r\n\r\nexport default UserTable","import React, { useState } from 'react'\r\n\r\nfunction AddUserForm(props) {\r\n\tconst initialFormState = { firstname: '', lastname: '' }\r\n\tconst [user, setUser] = useState(initialFormState)\r\n\r\n\r\n\tconst handleInputChangeFirstName = (event) => {\r\n\t\tuser.firstname = event.target.value;\r\n\t}\r\n\r\n\r\n\tconst handleInputChangeLastName = (event) => {\r\n\t\tuser.lastname = event.target.value;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tonSubmit={(event) => {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif ((user.firstname !== \"\" & user.lastname !== \"\" & typeof user.firstname === 'string' & typeof user.lastname === \"string\")) {\r\n\t\t\t\t\t\tprops.AddUser(user.firstname, user.lastname);\r\n\t\t\t\t\t\tsetUser(initialFormState);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert('please enter valid first and last name');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<label>First Name</label>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tfirstname=\"firstName\"\r\n\t\t\t\tvalue={user.firstname}\r\n\t\t\t\tonChange={handleInputChangeFirstName}\r\n\t\t\t/>\r\n\t\t\t<label>Last Name</label>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tlastname=\"lastName\"\r\n\t\t\t\tvalue={user.lastname}\r\n\t\t\t\tonChange={handleInputChangeLastName}\r\n\t\t\t/>\r\n\t\t\t<button>Add new user</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default AddUserForm","import React, { useState, useEffect } from 'react'\r\n\r\nfunction EditUserForm(props){\r\n    useEffect(() => {\r\n        setUser(props.currentUser)\r\n      }, [props])\r\n\r\n    const [user, setUser] = useState(props.currentUser)\r\n\r\n    const handleInputChangeFirstName = (event) => {\r\n        user.firstName = event.target.value;\r\n    }\r\n\r\n\r\n    const handleInputChangeLastName = (event) => {\r\n        user.lastName = event.target.value;\r\n    }\r\n\r\n    return (\r\n        <form\r\n            onSubmit={(event) => {\r\n                event.preventDefault();\r\n                try {\r\n\t\t\t\t\tif ((user.firstName !== \"\" & user.lastName !== \"\" & typeof user.firstName === 'string' & typeof user.lastName === \"string\")) {\r\n                        props.updateUser(user._id, user);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert('please enter valid first and last name');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n            }}\r\n        >\r\n            <label>Name</label>\r\n            <input\r\n                type=\"text\"\r\n                firstname=\"firstName\"\r\n                value={user.firstName}\r\n                onChange={handleInputChangeFirstName}\r\n            />\r\n            <label>Last Name</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                value={user.lastName}\r\n                onChange={handleInputChangeLastName}\r\n            />\r\n            <button>Update user</button>\r\n            <button\r\n                onClick={() => props.setEditing(false)}\r\n                className=\"button muted-button\"\r\n            >\r\n                Cancel\r\n      </button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default EditUserForm","import React, { useState } from 'react'\r\nimport UserTable from './tables/UserTable'\r\nimport AddUserForm from './forms/AddUserForm';\r\nimport EditUserForm from './forms/EditUserForm'\r\n\r\nfunction App() {\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [editing, setEditing] = useState(false);\r\n  const initialFormState = { _id: \"\", firstName: \"\", lastName: \"\" }\r\n  const [currentUser, setCurrentUser] = useState(initialFormState);\r\n\r\n function editRow(user){\r\n    setEditing(true)\r\n    setCurrentUser(user);   \r\n  }\r\n//for future use, if needed. will finda specific user\r\n  function currentUserFind(id) {\r\n    fetch(\"/api/fetch/\" + id, {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n      })\r\n  }\r\n\r\n  function updateUser(id, updatedUser) {\r\n    setEditing(false);\r\n    fetch('/api/update/' + id, {\r\n      method: 'put',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        id: updatedUser._id,\r\n        firstName: updatedUser.firstName,\r\n        lastName: updatedUser.lastName\r\n      })\r\n    });\r\n  }\r\n\r\n  function useFetch() {\r\n    fetch(\"/api/fetch\", {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setUsers(data)\r\n      })\r\n  }\r\n\r\n  function DeleteUser(id) {\r\n    fetch(`/api/delete/` + id, {\r\n      method: 'delete',\r\n    })\r\n    fetch(\"/api/fetch\", {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setUsers(data)\r\n      })\r\n  }\r\n\r\n\r\n  function AddUser(firstname, lastname) {\r\n    fetch('/api/makeNew', {\r\n      method: 'post',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        firstName: firstname,\r\n        lastName: lastname\r\n      })\r\n    });\r\n  }\r\n\r\n\r\n\r\n  useFetch();\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>CRUD App with Hooks</h1>\r\n      <div className=\"flex-row\">\r\n        <div className=\"flex-large\">\r\n          {editing ? (\r\n            <div>\r\n              <h2>Edit user</h2>\r\n              <EditUserForm\r\n                editing={editing}\r\n                setEditing={setEditing}\r\n                currentUser={currentUser}\r\n                updateUser={updateUser}\r\n              />\r\n            </div>\r\n          ) : (\r\n              <div>\r\n                <h2>Add user</h2>\r\n                <AddUserForm AddUser={AddUser} />\r\n              </div>\r\n            )}\r\n        </div>\r\n        <div className=\"flex-large\">\r\n          <h2>View users</h2>\r\n          <UserTable users={users} editRow={editRow} DeleteUser={DeleteUser} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}